@model IEnumerable<Konto>
@{
    float? kcal = 0;
    DateOnly date;
    DateOnly.TryParse(@ViewData["Date"]?.ToString(), out date);
}
<table>
    <thead>
        <tr>
            <th>Nazwa dania</th>
            <th>Nazwa produktu</th>
            <th>Kaloryczność</th>
            <!-- Dodaj inne kolumny, jeśli są wymagane -->
        </tr>
    </thead>
    <tbody>
        @foreach (var konto in Model)
        {
            @foreach (var jadlo in konto?.Jadlospisy)
            {
                @foreach (var dapro in jadlo?.Dania?.DaniaProdukty)
                {
                    
                    <tr>
                        <td>@jadlo.Dania.NazwaDania</td>
                        <td>@dapro.Produkty.Nazwa</td>
                        <td>@dapro.Produkty.Kaloryczność</td>
                        <!-- Dodaj wartości dla innych kolumn -->
                        @{
                            kcal += dapro.Produkty.Kaloryczność;
                        }
                    </tr>
                }
            }
        }
    </tbody>
</table>
<p> ilość dzisiejszych kalori: @kcal</p>
    
    <div>
 
                <p name="dzien">@ViewData["Date"]</p>
            <form method="post" asp-controller="Date" asp-action="poprzedni">
                <input style="display:none" type="text" name="czas" value="@ViewData["Date"]">
                <button type="submit">poprzedni</button>
                </form>
            @if (@date != DateOnly.FromDateTime(DateTime.Now))
                {
                <form method="post" asp-controller="Date" asp-action="nastepny">
                    <input style="display:none" type="text" name="czas" value="@ViewData["Date"]">

                    <button type="submit">nastepny</button>
                </form>
                }
    
    </div>

<a asp-controller="UserMeals" asp-action="Index">zobacz wszytkie włąsne posiłki</a>